(this.webpackJsonpexmoto=this.webpackJsonpexmoto||[]).push([[0],[,,,,,,,,,function(e,t,n){e.exports={Form:"Form_Form__2_yHn",FormColumn:"Form_FormColumn__3iy4X",FormBox:"Form_FormBox__2fh4_",FormBox__Error:"Form_FormBox__Error__2Jds_",FormBox__Error__Active:"Form_FormBox__Error__Active__lulHx",InvoiceForm:"Form_InvoiceForm__3CDN0"}},,,,,function(e,t,n){e.exports={"Form-Input":"Input_Form-Input__3gD4L","Auth-Form-Input":"Input_Auth-Form-Input__Gzryb"}},,,,,function(e,t,n){e.exports={Button:"Button_Button__15NJU",Button__Green:"Button_Button__Green__2CkE3","Button__Green--Active":"Button_Button__Green--Active__3p7_k",Button__GreenMarginTop:"Button_Button__GreenMarginTop__kQ1D3",Button__White:"Button_Button__White__3Ckme",Button__Red:"Button_Button__Red__3zAya",Button__Blue:"Button_Button__Blue__Xc0GF"}},,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"static/media/main-logo.a5230cd6.png"},,,function(e,t,n){e.exports=n.p+"static/media/checked.da188ccb.png"},function(e,t,n){e.exports=n(90)},,,,,function(e,t,n){},function(e,t,n){},,,,,,,,,,,,,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){e.exports=n.p+"static/media/b2b.39db7eb1.jpg"},function(e,t,n){e.exports=n.p+"static/media/box.0e601bd8.jpg"},function(e,t,n){e.exports=n.p+"static/media/truck.9e2e6db0.jpg"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(16),l=n.n(o),i=(n(41),n(10)),c=n(2),u=(n(42),n(31)),s=n.n(u).a.create({baseURL:"https://exmoto.herokuapp.com/api/v1"}),m=(n(60),n(61),n(62),n(32),n(68),n(1)),d=n(3),f=(n(69),n(70),function(e){return e.show?r.a.createElement("div",{className:"Backdrop",onClick:e.close}):null}),p=(n(71),function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(f,{show:e.show,close:e.close}),r.a.createElement("div",{className:"Modal",style:{transform:e.show?"translate(50%, 50%)":"translateY(0)",display:e.show?"block":"none"}},e.children,r.a.createElement("div",{className:"Close",onClick:e.close})))}),v=(n(72),function(e){var t=new Date(e);return"".concat(t.getDate(),"-").concat(t.getMonth()+1,"-").concat(t.getFullYear())}),_=function(e,t,n,a,r){return{elemType:e,disabled:r,value:"",elemConfig:{inpType:t,label:n,placeholder:a}}},b=n(9),h=n.n(b),E=n(19),F=n.n(E),g=function(e){return r.a.createElement("button",{type:"submit",className:[F.a.Button,F.a[e.btnStyle]].join(" "),onClick:e.handleClick},e.children)},y=function(e){return r.a.createElement("form",{id:e.id,className:e.column?[h.a.Form,h.a.FormColumn].join(" "):h.a.Form,onSubmit:function(t){return e.onSubmitHandler(t)}},r.a.createElement("div",{className:h.a[e.formStyle]},e.children,r.a.createElement("p",{className:e.isValid?h.a.FormBox__Error:[h.a.FormBox__Error,h.a.FormBox__Error__Active].join(" ")},e.errText)),r.a.createElement(g,{btnStyle:e.btnStyle},e.btnText))},x=n(14),S=n.n(x),C=n(34),j=n.n(C),O=Object(a.forwardRef)((function(e,t){var n=null;switch(e.elemtype){case"input":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"InvoiceForm__Label"},e.elemConfig.label),r.a.createElement("input",{type:e.elemConfig.inpType,ref:t,name:e.name,className:S.a[e.inpStyle],placeholder:e.elemConfig.placeholder,onChange:e.addChangeHandle?function(t){return e.onChangeHandler(t)}:null,onBlur:e.addBlurHandle?function(t){return e.onBlurHandler(t)}:null,disabled:e.disabled,defaultValue:e.defaultValue,autoComplete:e.autoComplete}));break;case"input-mask":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"InvoiceForm__Label"},e.elemConfig.label),r.a.createElement(j.a,{mask:"99-99-9999",maskChar:"_",name:e.name,alwaysShowMask:!0,type:e.elemConfig.inpType,className:S.a[e.inpStyle],onChange:e.addChangeHandle?function(t){return e.onChangeHandler(t)}:null,onBlur:e.addBlurHandle?function(t){return e.onBlurHandler(t)}:null,autoComplete:e.autoComplete,disabled:e.disabled,value:e.defaultValue}));break;case"select":n=r.a.createElement(r.a.Fragment,null,r.a.createElement("label",{className:"InvoiceForm__Label"},e.elemConfig.label),r.a.createElement("select",{name:e.name,className:S.a[e.inpStyle],onChange:e.addChangeHandle?e.onChangeHandler:null,value:e.defaultValue},e.elemConfig.options.map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.displayValie)}))));break;default:n=r.a.createElement("input",null)}return r.a.createElement(r.a.Fragment,null,n)})),T=(n(74),n(75),n(76),n(77),n(78),n(79),n(80),n(81),n(82),n(83),n(84),n(20)),B=(n(85),n(35)),k=n.n(B),w=(n(86),function(e){return r.a.createElement("div",{className:"Popup"},r.a.createElement("p",{className:"Popup__Text"},"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430"),r.a.createElement("img",{src:k.a,className:"Popup__Icon",alt:"checked"}))}),N=(n(87),function(e){return r.a.createElement("div",{className:"lds-spinner"},r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null))}),I=(n(88),function(e){var t=Object.keys(e.formState.invoiceForm).map((function(t){return r.a.createElement(O,{key:t,elemtype:e.formState.invoiceForm[t].elemType,elemConfig:e.formState.invoiceForm[t].elemConfig,onChangeHandler:function(n){return e.changeInputHandler(n,t)},addChangeHandle:!0,addBlurHandle:!1,inpStyle:"Form-Input",disabled:e.formState.invoiceForm[t].disabled,defaultValue:e.formState.invoiceForm[t].value})}));return r.a.createElement("div",{className:"InvoiceForm-Box",style:{display:e.showForm?"block":"none"}},r.a.createElement("div",{className:"InvoiceForm__Close",onClick:e.closeForm,title:"\u0417\u0430\u043a\u0440\u044b\u0442\u044c"}),r.a.createElement("h2",{className:"InvoiceForm-Box__Header"},e.heading),r.a.createElement(y,{id:"addForm",onSubmitHandler:function(t){return e.formSubmit(t)},isValid:e.isValid,btnText:e.btnText,btnStyle:"Button__GreenMarginTop",btnCloseStyle:"Button__Blue",formStyle:"InvoiceForm",column:!0,completeText:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0430",disabled:e.formState.invoiceForm.disabled,errText:e.errorText},t))}),V=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{formState:e.formState,showForm:e.showForm,formSubmit:function(t){return e.formSubmit(t)},changeInputHandler:e.changeInputHandler,isValid:e.formState.isValid,errorText:e.formState.displayErrorText,closeForm:e.closeForm,heading:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e",btnText:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"}))},H=function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(I,{formState:e.formState,showForm:e.showForm,formSubmit:function(t){return e.formSubmit(t)},changeInputHandler:e.changeInputHandler,isValid:e.formState.isValid,errorText:e.formState.displayErrorText,closeForm:e.closeForm,heading:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e",btnText:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}))},R=r.a.createContext({isAuth:!1,login:function(){}}),A=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),o=n[0],l=n[1];return r.a.createElement(R.Provider,{value:{login:function(){var e=sessionStorage.getItem("access__token");l(e)},isAuth:o}},e.children)},D=function(e){var t=Object(a.useState)({invoiceForm:{trackingNumber:_("input","text","\u041d\u043e\u043c\u0435\u0440 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439","\u041f\u0440\u0438\u043c\u0435\u0440: 6789487"),fromCountry:_("input","text","\u0418\u0437 \u043a\u0430\u043a\u043e\u0439 \u0441\u0442\u0440\u0430\u043d\u044b \u043f\u043e\u0441\u044b\u043b\u043a\u0430?","\u041f\u0440\u0438\u043c\u0435\u0440: \u041c\u043e\u043b\u0434\u043e\u0432\u0430"),fromCity:_("input","text","\u0418\u0437 \u043a\u0430\u043a\u043e\u0433\u043e \u0433\u043e\u0440\u043e\u0434\u0430 \u043f\u043e\u0441\u044b\u043b\u043a\u0430?","\u041f\u0440\u0438\u043c\u0435\u0440:  \u041a\u0438\u0448\u0438\u043d\u0435\u0432"),toCountry:_("input","text","\u0421\u0442\u0440\u0430\u043d\u0430 \u043e\u043f\u0442\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u044b\u043b\u043a\u0438","\u041f\u0440\u0438\u043c\u0435\u0440: \u0420\u0443\u043c\u044b\u043d\u0438\u044f"),toCity:_("input","text","\u041f\u0440\u0438\u043c\u0435\u0440: \u0411\u0443\u0445\u0430\u0440\u0435\u0441\u0442","\u0413\u043e\u0440\u043e\u0434 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043f\u043e\u0441\u044b\u043b\u043a\u0438"),estimatedDeliveryDate:{elemType:"input-mask",elemConfig:{inpType:"text",label:"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u043e\u0433\u0430\u0435\u043c\u043e\u0435 \u0432\u0440\u0435\u043c\u044f \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438. \u0414\u0414/\u041c\u041c/\u0413\u0413\u0413\u0413"},validation:!0,value:""},delivered:{elemType:"select",elemConfig:{options:[{value:"",displayValie:"-"},{value:!1,displayValie:"\u0412 \u041f\u0443\u0442\u0438"},{value:!0,displayValie:"\u0414\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043e"}],label:"\u0421\u0442\u0430\u0442\u0443\u0441 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438"},validation:!0,value:""},recipient:{elemType:"input",elemConfig:{inpType:"text",placeholder:"\u041f\u0440\u0438\u043c\u0435\u0440: \u0412\u0430\u043b\u0435\u0440\u0430 \u041c\u043e\u043b\u0434\u0430\u0432\u0441\u043a\u0438\u0439",label:"\u041f\u043e\u043b\u0443\u0447\u0430\u0442\u0435\u043b\u044c"},disabled:!0,value:""}},errorText:{emptyFieldsError:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u0435 \u043f\u043e\u043b\u044f",notUniqueId:"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f \u0441 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u0443\u0436\u0435 \u0435\u0441\u0442\u044c",errorDate:"\u0414\u0430\u0442\u0430 \u0434\u043e\u0441\u0442\u0430\u0432\u043a\u0438 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0440\u0430\u043d\u044c\u0448\u0435 \u0442\u0435\u043a\u0443\u0449\u0435\u0439"},isValid:!0,showAddForm:!1,showUpdateForm:!1,submitted:!1,displayErrorText:""}),n=Object(d.a)(t,2),o=n[0],l=n[1],i=Object(a.useState)({elemType:"input",elemConfig:{inpType:"text",placeholder:""},errorText:{emptyFieldsError:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u043f\u043e\u043b\u0435",noId:"\u0421 \u0442\u0430\u043a\u0438\u043c \u043d\u043e\u043c\u0435\u0440\u043e\u043c \u043d\u0435\u0442 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u043e\u0439"},displaySearchErrorText:"",searchResult:{},showSearchResults:!1,validResults:!0,showSpinner:!1,searchValue:""}),c=Object(d.a)(i,2),u=c[0],f=c[1],b=Object(a.useRef)(null),h=Object(a.useContext)(R),E=Object(a.useCallback)((function(){for(var e=!0,t=Object.keys(o.invoiceForm),n=0,a=t;n<a.length;n++){var r=a[n];if("recipient"!==r||!0!==o.invoiceForm.recipient.disabled){if(""===o.invoiceForm[r].value){e=!1;break}e=!0}}return{isFormValid:e,cloneinvoiceForm:t}}),[o.invoiceForm]),F=Object(a.useCallback)((function(e){e.preventDefault();var t=E(),n=t.isFormValid,a=t.cloneinvoiceForm;if(n){var r,i,c={},u="",d=Object(T.a)(a);try{for(d.s();!(i=d.n()).done;){var f=i.value;c[f]=o.invoiceForm[f].value,"estimatedDeliveryDate"===f&&(u=o.invoiceForm[f].value.split("-").reverse().join("-"),r=new Date(u),c[f]=r.getTime())}}catch(p){d.e(p)}finally{d.f()}s.post("/deliveries",c).then((function(e){console.log(e),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{submitted:!0})}))})).catch((function(e){var t;-1!==e.response.data.message.indexOf("Estimated")&&(t=o.errorText.errorDate),-1!==e.response.data.message.indexOf("duplicate")&&(t=o.errorText.notUniqueId),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{submitted:!1,isValid:!1,displayErrorText:t})}))}))}l((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:n,displayErrorText:o.errorText.emptyFieldsError})}))}),[E,o.errorText.emptyFieldsError,o.errorText.errorDate,o.errorText.notUniqueId,o.invoiceForm]),x=function(e,t){var n=Object(m.a)({},o.invoiceForm),a=e.target.value;n[t].value=a,"true"===n[t].value&&(n.recipient.disabled=!1),"false"===n[t].value&&(n.recipient.disabled=!0),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{invoiceForm:Object(m.a)({},n)})}))};console.log(o);var S=function(e){e.preventDefault();var t=E(),n=t.isFormValid,a=t.cloneinvoiceForm;if(l((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:n,displayErrorText:o.errorText.emptyFieldsError})})),n){var r,i={},c=Object(T.a)(a);try{for(c.s();!(r=c.n()).done;){var d=r.value;o.invoiceForm[d].value!==u.searchResult[d]&&(i[d]=o.invoiceForm[d].value)}}catch(p){c.e(p)}finally{c.f()}if(void 0!==i.estimatedDeliveryDate){var f=i.estimatedDeliveryDate;i.estimatedDeliveryDate=function(e){var t=e.split("-").reverse().join("-");return new Date(t).getTime()}(f)}console.log(i),s.patch("/deliveries/".concat(u.searchResult.trackingNumber),i).then((function(e){console.log(e),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{submitted:!0})}))})).catch((function(e){var t;-1!==e.response.data.message.indexOf("Estimated")&&(t=o.errorText.errorDate),-1!==e.response.data.message.indexOf("duplicate")&&(t=o.errorText.notUniqueId),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{submitted:!1,isValid:!1,displayErrorText:t})}))}))}},C=function(){var e=document.querySelector("#addForm"),t=Object(m.a)({},o.invoiceForm);for(var n in t)t[n].value="";l((function(e){return Object(m.a)(Object(m.a)({},e),{},{invoiceForm:Object(m.a)({},t),submitted:!1,isValid:!0,showAddForm:!1,showUpdateForm:!1})})),f((function(e){return Object(m.a)(Object(m.a)({},e),{},{searchResult:{},showSearchResults:!1})})),e.reset()},j=null;return j=o.showAddForm?r.a.createElement(V,{formState:o,showForm:o.showAddForm,formSubmit:function(e){return F(e)},changeInputHandler:function(e,t){return x(e,t)},isValid:o.isValid,errorText:o.displayErrorText,closeForm:C}):o.showUpdateForm?r.a.createElement(H,{showForm:o.showUpdateForm,formState:o,formSubmit:function(e){return S(e)},changeInputHandler:function(e,t){return x(e,t)},isValid:o.isValid,errorText:o.displayErrorText,closeForm:C}):null,r.a.createElement("div",{className:"Admin"},r.a.createElement("div",{className:"Left-Side"},r.a.createElement("div",{className:"Left-Side-Box"},r.a.createElement(g,{btnStyle:o.showAddForm?"Button__Green--Active":"Button__Green",handleClick:function(){l((function(e){return Object(m.a)(Object(m.a)({},e),{},{showAddForm:!0,showUpdateForm:!1})}))}},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e"),r.a.createElement("div",{className:"Search"},r.a.createElement("p",{className:"Search__Title"},"\u041d\u0430\u0439\u0442\u0438 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e"),r.a.createElement(y,{onSubmitHandler:function(e){return function(e){e.preventDefault(),b.current.focus();var t=!0;""===u.searchValue&&(t=!1),t&&s.get("/deliveries/".concat(u.searchValue)).then((function(e){for(var t={},n=0,a=Object.keys(o.invoiceForm);n<a.length;n++){var r=a[n];t[r]=e.data.data.delivery[r],"estimatedDeliveryDate"===r&&(t[r]=v(e.data.data.delivery[r]))}f((function(e){return Object(m.a)(Object(m.a)({},e),{},{searchResult:Object(m.a)({},t),showSearchResults:!0})}))})).catch((function(e){f((function(e){return Object(m.a)(Object(m.a)({},e),{},{showSearchResults:!1,validResults:!1,displaySearchErrorText:u.errorText.noId})}))})),f((function(e){return Object(m.a)(Object(m.a)({},e),{},{validResults:t,showSearchResults:!1,displaySearchErrorText:u.errorText.emptyFieldsError})}))}(e)},isValid:u.validResults,errText:u.displaySearchErrorText,btnText:"\u041d\u0410\u0419\u0422\u0418",btnStyle:"Button__Green",formStyle:"FormBox"},r.a.createElement(O,{elemtype:"input",elemConfig:u.elemConfig,addChangeHandle:!0,onChangeHandler:function(e){return function(e){var t=e.target.value;f((function(e){return Object(m.a)(Object(m.a)({},e),{},{searchValue:t})}))}(e)},addBlurHandle:!0,onBlurHandler:function(){f((function(e){return Object(m.a)(Object(m.a)({},e),{},{validResults:!0})}))},inpStyle:"Form-Input",ref:b})),r.a.createElement("div",{className:"Search__Result-Box"},u.showSpinner?r.a.createElement(N,null):r.a.createElement("div",{className:u.showSearchResults?"Search__Results Search__Results--Active ":"Search__Results"},r.a.createElement("p",{className:"Search__TrackID"},r.a.createElement("span",{className:"Search__Span"},"\u041d\u0430\u043a\u043b\u0430\u0434\u043d\u0430\u044f:")," ",u.searchResult.trackingNumber),r.a.createElement("div",{className:"Search__Settings"},r.a.createElement(g,{btnStyle:"Button__Blue",handleClick:function(){var e=Object(m.a)({},o.invoiceForm);for(var t in u.searchResult)e[t].value=u.searchResult[t],!0===u.searchResult.delivered&&(e.recipient.disabled=!1);l(Object(m.a)(Object(m.a)({},o),{},{showUpdateForm:!0,showAddForm:!1}))}},"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c"),r.a.createElement(g,{btnStyle:"Button__Red",handleClick:function(){window.confirm("\u0423\u0432\u0435\u0440\u0435\u043d\u044b \u0447\u0442\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u044d\u0442\u0443 \u043d\u0430\u043a\u043b\u0430\u0434\u043d\u0443\u044e?")&&s.delete("/deliveries/".concat(u.searchResult.trackingNumber)).then((function(e){console.log(e),C()})).catch((function(e){console.log(e)}))}},"\u0443\u0434\u0430\u043b\u0438\u0442\u044c")))))),r.a.createElement("div",{className:"Left-Side__Logout"},r.a.createElement(g,{btnStyle:"Button__Green",handleClick:function(){return e="access__token",sessionStorage.removeItem(e),void h.login();var e}},"\u0412\u042b\u0419\u0422\u0418"))),r.a.createElement("div",{className:"Right-Side"},j,r.a.createElement(p,{show:o.submitted,close:C},r.a.createElement(w,null))))},G=(n(89),function(e){var t=Object(a.useState)({inputConfig:{username:_("input","text","\u041b\u043e\u0433\u0438\u043d","",""),password:_("input","password","\u041f\u0430\u0440\u043e\u043b\u044c","","")},errorText:{emptyFields:"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u044b\u0435 \u043f\u043e\u043b\u044f",wrongFields:"\u041d\u0435\u0432\u0435\u0440\u043d\u043e \u0432\u0432\u0435\u0434\u0435\u043d\u044b \u041f\u0430\u0440\u043e\u043b\u044c \u0438\u043b\u0438 \u041b\u043e\u0433\u0438\u043d"},displayErrorText:"",isValid:!0}),n=Object(d.a)(t,2),o=n[0],l=n[1],i=Object(a.useContext)(R),c=Object(a.useCallback)((function(e,t){var n=Object(m.a)({},o.inputConfig);n[t].value=e.target.value,l((function(e){return Object(m.a)(Object(m.a)({},e),{},{inputConfig:Object(m.a)({},n)})}))}),[o.inputConfig]),u=Object.keys(o.inputConfig).map((function(e){return r.a.createElement(O,{key:e,onChangeHandler:function(t){return c(t,e)},addChangeHandle:!0,elemtype:o.inputConfig[e].elemType,elemConfig:o.inputConfig[e].elemConfig,inpStyle:"Auth-Form-Input",add:!1,autoComplete:"on"})}));return r.a.createElement("div",{className:"Auth"},r.a.createElement("form",{className:"Auth-Form",onSubmit:function(e){return function(e){e.preventDefault();var t=!0;for(var n in o.inputConfig)""===o.inputConfig[n].value&&(t=!1);if(l((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:t,displayErrorText:o.errorText.emptyFields})})),t){var a={};for(var r in o.inputConfig)a[r]=o.inputConfig[r].value;s.post("/users/login",a).then((function(e){console.log(e),sessionStorage.setItem("access__token",e.data.access_token),i.login(!0)})).catch((function(e){console.log(e.response),l((function(e){return Object(m.a)(Object(m.a)({},e),{},{isValid:!1,displayErrorText:o.errorText.wrongFields})}))}))}}(e)}},u,r.a.createElement("span",{className:o.isValid?"Auth-Form__Error":"Auth-Form__Error Auth-Form__Error--Active"},o.displayErrorText),r.a.createElement(g,{btnStyle:"Button__Green"},"\u0412\u041e\u0419\u0422\u0418")))}),U=function(){s.interceptors.request.use((function(e){var t=sessionStorage.getItem("access__token");return t?(e.headers.Authorization="Bearer ".concat(t),e):e}));var e=Object(a.useContext)(R),t=sessionStorage.getItem("access__token");return(e.isAuth||t)&&r.a.createElement(D,null),r.a.createElement("div",{className:"App"},r.a.createElement(i.a,{basename:"/exmoto"},r.a.createElement(c.c,null,r.a.createElement(c.a,{path:"/operator"},r.a.createElement(G,null)))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null,r.a.createElement(U,null))),document.getElementById("root"))}],[[36,1,2]]]);
//# sourceMappingURL=main.090f4ec4.chunk.js.map